<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileGuardian Blockchain Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: rgba(139, 92, 246, 0.1);
            border-radius: 16px;
            border: 1px solid rgba(139, 92, 246, 0.3);
        }

        .header h1 {
            font-size: 42px;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            color: #cbd5e1;
            font-size: 18px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            border-color: #8b5cf6;
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.2);
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-bottom: 16px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
            color: #8b5cf6;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 14px;
        }

        .blockchain-section {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-header h2 {
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .refresh-btn {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .blocks-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
            max-height: 600px;
            overflow-y: auto;
            padding-right: 8px;
        }

        .blocks-container::-webkit-scrollbar {
            width: 8px;
        }

        .blocks-container::-webkit-scrollbar-track {
            background: rgba(51, 65, 85, 0.5);
            border-radius: 4px;
        }

        .blocks-container::-webkit-scrollbar-thumb {
            background: #8b5cf6;
            border-radius: 4px;
        }

        .block-card {
            background: rgba(51, 65, 85, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .block-card:hover {
            border-color: #8b5cf6;
            transform: translateX(4px);
        }

        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(139, 92, 246, 0.2);
        }

        .block-number {
            font-size: 20px;
            font-weight: 700;
            color: #8b5cf6;
        }

        .block-time {
            font-size: 12px;
            color: #94a3b8;
        }

        .transaction-info {
            display: grid;
            gap: 12px;
        }

        .info-row {
            display: flex;
            gap: 8px;
            font-size: 13px;
        }

        .info-label {
            color: #94a3b8;
            min-width: 100px;
        }

        .info-value {
            color: #cbd5e1;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }

        .tx-hash {
            color: #10b981;
        }

        .gas-used {
            display: inline-block;
            background: rgba(139, 92, 246, 0.2);
            padding: 4px 12px;
            border-radius: 6px;
            color: #8b5cf6;
            font-weight: 600;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #94a3b8;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(139, 92, 246, 0.2);
            border-top-color: #8b5cf6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .files-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .file-card {
            background: rgba(51, 65, 85, 0.5);
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
        }

        .file-card:hover {
            border-color: #8b5cf6;
            transform: translateY(-4px);
        }

        .file-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .file-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .file-name {
            font-weight: 600;
            font-size: 14px;
            word-break: break-word;
        }

        .file-details {
            display: grid;
            gap: 8px;
            font-size: 12px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid rgba(139, 92, 246, 0.1);
        }

        .detail-label {
            color: #94a3b8;
        }

        .detail-value {
            color: #cbd5e1;
            font-weight: 600;
        }

        .blockchain-badge {
            display: inline-block;
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîó FileGuardian Blockchain Explorer</h1>
            <p>Real-time Ethereum Blockchain Monitoring for File Security</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üì¶</div>
                <div class="stat-value" id="totalBlocks">0</div>
                <div class="stat-label">Total Blocks</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìÑ</div>
                <div class="stat-value" id="totalFiles">0</div>
                <div class="stat-label">Files on Blockchain</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìù</div>
                <div class="stat-value" id="totalLogs">0</div>
                <div class="stat-label">Activity Logs</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚õΩ</div>
                <div class="stat-value" id="totalGas">...</div>
                <div class="stat-label">Total Gas Used</div>
            </div>
        </div>

        <div class="blockchain-section">
            <div class="section-header">
                <h2>üîó Registered Files on Blockchain</h2>
                <button class="refresh-btn" id="refresh-button-1">üîÑ Refresh</button>
            </div>
            <div class="files-section" id="filesContainer">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading blockchain data...</p>
                </div>
            </div>
        </div>

        <div class="blockchain-section">
            <div class="section-header">
                <h2>üì¶ Recent Blockchain Activity</h2>
                <button class="refresh-btn" id="refresh-button-2">üîÑ Refresh</button>
            </div>
            <div class="blocks-container" id="blocksContainer">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading blocks...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Configuration ---
        const WEB3_PROVIDER_URL = 'http://127.0.0.1:8545';
        
        // --- UPDATED CONTRACT ADDRESS ---
        const CONTRACT_ADDRESS = '0x65e936baF1Df7bD2ED2894947a429c9D07604A00';
        
        // --- UPDATED ABI (with ipfsCid) ---
        const CONTRACT_ABI = [{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fileId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"trustedUser","type":"address"}],"name":"AccessGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fileId","type":"uint256"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"trustedUser","type":"address"}],"name":"AccessRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"logId","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"fileId","type":"uint256"},{"indexed":false,"internalType":"string","name":"action","type":"string"},{"indexed":true,"internalType":"address","name":"actor","type":"address"}],"name":"ActivityLogged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fileId","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isValid","type":"bool"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"}],"name":"FileIntegrityVerified","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"fileId","type":"uint256"},{"indexed":false,"internalType":"string","name":"fileHash","type":"string"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"},{"indexed":false,"internalType":"string","name":"ipfsCid","type":"string"}],"name":"FileRegistered","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"fileAccessList","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fileCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"fileLogs","outputs":[{"internalType":"uint256","name":"fileId","type":"uint256"},{"internalType":"string","name":"action","type":"string"},{"internalType":"string","name":"severity","type":"string"},{"internalType":"address","name":"actor","type":"address"},{"internalType":"string","name":"details","type":"string"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"files","outputs":[{"internalType":"string","name":"fileHash","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"bool","name":"exists","type":"bool"},{"internalType":"string","name":"metadata","type":"string"},{"internalType":"string","name":"ipfsCid","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"}],"name":"getFile","outputs":[{"internalType":"string","name":"fileHash","type":"string"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"string","name":"metadata","type":"string"},{"internalType":"string","name":"ipfsCid","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"}],"name":"getFileLogs","outputs":[{"components":[{"internalType":"uint256","name":"fileId","type":"uint256"},{"internalType":"string","name":"action","type":"string"},{"internalType":"string","name":"severity","type":"string"},{"internalType":"address","name":"actor","type":"address"},{"internalType":"string","name":"details","type":"string"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct FileGuardian.ActivityLog[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"getTrustedUserDetails","outputs":[{"internalType":"string","name":"publicKey","type":"string"},{"internalType":"uint256","name":"grantedAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"}],"name":"getTrustedUsers","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"address","name":"_trustedUser","type":"address"},{"internalType":"string","name":"_publicKey","type":"string"}],"name":"grantAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"hasAccess","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"string","name":"_action","type":"string"},{"internalType":"string","name":"_severity","type":"string"},{"internalType":"string","name":"_details","type":"string"}],"name":"logActivity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"logCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_fileHash","type":"string"},{"internalType":"string","name":"_metadata","type":"string"},{"internalType":"string","name":"_ipfsCid","type":"string"}],"name":"registerFile","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"address","name":"_trustedUser","type":"address"}],"name":"revokeAccess","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"trustedUsers","outputs":[{"internalType":"address","name":"userAddress","type":"address"},{"internalType":"string","name":"publicKey","type":"string"},{"internalType":"uint256","name":"grantedAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_fileId","type":"uint256"},{"internalType":"string","name":"_currentHash","type":"string"}],"name":"verifyFileIntegrity","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}];
        // --- End Configuration ---
        
        let web3;
        let contract;
        let totalGas = 0;

        window.addEventListener('load', init);

        function init() {
            try {
                web3 = new Web3(WEB3_PROVIDER_URL);
                contract = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);
                
                console.log('Connected to Web3 and loaded contract at ' + CONTRACT_ADDRESS);
                
                document.getElementById('refresh-button-1').addEventListener('click', loadDynamicData);
                document.getElementById('refresh-button-2').addEventListener('click', loadDynamicData);

                loadDynamicData();
                setInterval(loadDynamicData, 15000);

            } catch (error) {
                console.error("Failed to initialize Web3:", error);
                showError("Failed to connect to Ganache. Is it running at " + WEB3_PROVIDER_URL + "?");
            }
        }

        async function loadDynamicData() {
            console.log("Refreshing blockchain data...");
            totalGas = 0; 
            
            showLoading('filesContainer', 'Loading registered files...');
            showLoading('blocksContainer', 'Loading contract activity...');

            try {
                await Promise.all([
                    loadStats(),
                    loadFiles(),
                    loadBlockActivity()
                ]);
                document.getElementById('totalGas').textContent = totalGas.toLocaleString();
            } catch (error) {
                console.error("Error loading dynamic data:", error);
                showError("Error loading data from contract. Is Ganache running?");
            }
        }

        async function loadStats() {
            try {
                const fileCount = await contract.methods.fileCount().call();
                const logCount = await contract.methods.logCount().call();
                const blockNumber = await web3.eth.getBlockNumber();

                document.getElementById('totalBlocks').textContent = blockNumber.toString();
                document.getElementById('totalFiles').textContent = fileCount;
                document.getElementById('totalLogs').textContent = logCount;
            } catch (error) {
                console.error("Error loading stats:", error);
            }
        }

        async function loadFiles() {
            const container = document.getElementById('filesContainer');
            try {
                const fileCount = await contract.methods.fileCount().call();
                
                if (fileCount == 0) {
                    container.innerHTML = '<div class="loading"><p>No files registered on blockchain yet</p></div>';
                    return;
                }

                let filePromises = [];
                for (let i = 1; i <= fileCount; i++) {
                    filePromises.push(contract.methods.getFile(i).call());
                }
                
                const files = await Promise.all(filePromises);
                
                let fileId = 1;
                container.innerHTML = files.map(file => {
                    let metadata = {};
                    try {
                        metadata = JSON.parse(file.metadata);
                    } catch(e) { metadata = { name: "Error parsing metadata" }; }
                    
                    const encryptedDate = new Date(file.timestamp * 1000); 
                    
                    // file[0] = fileHash
                    // file[1] = owner
                    // file[2] = timestamp
                    // file[3] = metadata (string)
                    // file[4] = ipfsCid
                    
                    const html = `
                    <div class="file-card">
                        <div class="file-header">
                            <div class="file-icon">üìÑ</div>
                            <div>
                                <div class="file-name">${metadata.name || 'Unknown File'}</div>
                                <span class="blockchain-badge">‚úì On Blockchain</span>
                            </div>
                        </div>
                        <div class="file-details">
                            <div class="detail-row">
                                <span class="detail-label">Blockchain ID:</span>
                                <span class="detail-value">#${fileId}</span> 
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Registered:</span>
                                <span class="detail-value">${encryptedDate.toLocaleString()}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">IPFS CID:</span>
                                <span class="detail-value" style="font-size: 11px; word-break: break-all;">${file[4].substring(0, 20)}...</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Owner:</span>
                                <span class="detail-value" style="font-size: 11px; word-break: break-all;">${file[1]}</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">File Hash:</span>
                                <span class="detail-value" style="font-size: 11px; word-break: break-all;">${file[0].substring(0, 20)}...</span>
                            </div>
                        </div>
                    </div>`;
                    fileId++; 
                    return html;
                }).reverse().join('');
            } catch (error) {
                console.error("Error loading files:", error);
                container.innerHTML = `<div class="loading"><p style="color: #ef4444;">‚ùå Failed to load files.</p></div>`;
            }
        }
        
        async function loadBlockActivity() {
            const container = document.getElementById('blocksContainer');
            try {
                const registerEvents = await contract.getPastEvents('FileRegistered', { fromBlock: 0, toBlock: 'latest' });
                const logEvents = await contract.getPastEvents('ActivityLogged', { fromBlock: 0, toBlock: 'latest' });

                let allEvents = [];
                
                for (let event of registerEvents) {
                    const receipt = await web3.eth.getTransactionReceipt(event.transactionHash);
                    totalGas += parseInt(receipt.gasUsed);
                    allEvents.push({
                        blockNumber: event.blockNumber,
                        hash: event.transactionHash,
                        gasUsed: receipt.gasUsed,
                        timestamp: event.returnValues.timestamp * 1000, 
                        type: 'File Registration',
                        fileId: event.returnValues.fileId,
                        actor: event.returnValues.owner
                    });
                }

                for (let event of logEvents) {
                    const receipt = await web3.eth.getTransactionReceipt(event.transactionHash);
                    totalGas += parseInt(receipt.gasUsed);
                    const block = await web3.eth.getBlock(event.blockNumber);
                    
                    allEvents.push({
                        blockNumber: event.blockNumber,
                        hash: event.transactionHash,
                        gasUsed: receipt.gasUsed,
                        timestamp: block.timestamp * 1000,
                        type: `Activity: ${formatActionName(event.returnValues.action)}`,
                        fileId: event.returnValues.fileId,
                        actor: event.returnValues.actor
                    });
                }

                allEvents.sort((a, b) => b.timestamp - a.timestamp);

                if (allEvents.length === 0) {
                    container.innerHTML = '<div class="loading"><p>No contract activities found on the blockchain yet.</p></div>';
                    return;
                }

                container.innerHTML = allEvents.map((item, index) => `
                    <div class="block-card" style="animation-delay: ${index * 0.05}s">
                        <div class="block-header">
                            <div>
                                <div class="block-number">Block #${item.blockNumber}</div>
                                <div style="font-size: 12px; color: #94a3b8; margin-top: 4px;">
                                    ${item.type}
                                </div>
                            </div>
                            <div class="block-time">${new Date(item.timestamp).toLocaleString()}</div>
                        </div>
                        <div class="transaction-info">
                            <div class="info-row">
                                <span class="info-label">File ID:</span>
                                <span class="info-value" style="color: #60a5fa; font-weight: bold;">#${item.fileId}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">By (Actor):</span>
                                <span class="info-value" style="font-size: 11px;">${item.actor}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Transaction:</span>
                                <span class="info-value tx-hash">${item.hash.substring(0, 20)}...${item.hash.substring(item.hash.length - 6)}</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">Gas Used:</span>
                                <span class="gas-used">${parseInt(item.gasUsed).toLocaleString()}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            
            } catch (error) {
                console.error("Error loading block activity:", error);
                container.innerHTML = `<div class="loading"><p style="color: #ef4444;">‚ùå Failed to load block activity.</p></div>`;
            }
        }

        // --- Helper Functions ---

        function formatActionName(action) {
            return action.split('_').map(word => 
                word.charAt(0).toUpperCase() + word.slice(1)
            ).join(' ');
        }
        
        function showError(message) {
            const errorHtml = `<div class="loading"><p style="color: #ef4444;">‚ùå ${message}</p></div>`;
            document.getElementById('filesContainer').innerHTML = errorHtml;
            document.getElementById('blocksContainer').innerHTML = errorHtml;
        }

        function showLoading(containerId, message) {
            document.getElementById(containerId).innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>${message}</p>
                </div>`;
        }

    </script>
</body>
</html>